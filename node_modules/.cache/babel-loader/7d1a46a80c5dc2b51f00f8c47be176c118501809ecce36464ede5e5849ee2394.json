{"ast":null,"code":"// // src/components/Calendar/Calendar.tsx\n// import React, { useState, useContext } from \"react\";\n// import DayCell from \"./DayCell\";\n// import { TaskContext } from \"../../context/TaskContext\";\n// import { getMonthMatrix } from \"../../utils/dateUtils\";\n// import { Task } from \"../../types/TaskTypes\";\n\n// const weekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\n// interface CalendarProps {\n//   openModal: (start: Date, end: Date, task?: Task) => void;\n//   categoryFilter: string[];\n//   searchText: string;\n// }\n\n// const Calendar: React.FC<CalendarProps> = ({ openModal, categoryFilter, searchText }) => {\n//   const { tasks } = useContext(TaskContext);\n\n// const today = new Date();\n// const year = today.getFullYear();\n// const month = today.getMonth();\n// const days = getMonthMatrix(year, month);\n\n//   const [isSelecting, setIsSelecting] = useState(false);\n//   const [startIndex, setStartIndex] = useState<number | null>(null);\n//   const [hoverIndex, setHoverIndex] = useState<number | null>(null);\n\n//   const handleMouseDown = (index: number) => {\n//     setIsSelecting(true);\n//     setStartIndex(index);\n//     setHoverIndex(index);\n//   };\n\n//   const handleMouseEnter = (index: number) => {\n//     if (!isSelecting) return;\n//     setHoverIndex(index);\n//   };\n\n//   const handleMouseUp = () => {\n//     if (!isSelecting || startIndex === null || hoverIndex === null) return;\n//     setIsSelecting(false);\n\n//     const start = Math.min(startIndex, hoverIndex);\n//     const end = Math.max(startIndex, hoverIndex);\n\n//     const startDate = days[start]!;\n//     const endDate = days[end]!;\n\n//     if (startDate && endDate) {\n//       openModal(startDate, endDate); // open modal for new task\n//     }\n\n//     setStartIndex(null);\n//     setHoverIndex(null);\n//   };\n\n//   const isSelected = (index: number) => {\n//     if (!isSelecting || startIndex === null || hoverIndex === null) return false;\n//     const min = Math.min(startIndex, hoverIndex);\n//     const max = Math.max(startIndex, hoverIndex);\n//     return index >= min && index <= max;\n//   };\n\n//   return (\n//     <div onMouseUp={handleMouseUp}>\n//       {/* Week header */}\n//       <div style={{ display: \"flex\", marginBottom: 4 }}>\n//         {weekDays.map((d) => (\n//           <div key={d} style={{ flex: 1, textAlign: \"center\", fontWeight: \"bold\" }}>\n//             {d}\n//           </div>\n//         ))}\n//       </div>\n\n//       {/* Calendar Grid */}\n//       <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(7, 1fr)\", gap: 2 }}>\n//         {days.map((date, i) => {\n//           const dayTasks = date\n//             ? tasks.filter(\n//                 (t) =>\n//                   t.start.toDateString() === date.toDateString() &&\n//                   (!categoryFilter.length || categoryFilter.includes(t.category || \"\")) &&\n//                   t.title.toLowerCase().includes(searchText.toLowerCase())\n//               )\n//             : [];\n\n//           const isToday = date ? date.toDateString() === today.toDateString() : false;\n\n//           return (\n//             <DayCell\n//               key={i}\n//               date={date}\n//               tasks={dayTasks}\n//               isSelected={isSelected(i)}\n//               onMouseDown={() => handleMouseDown(i)}\n//               onMouseEnter={() => handleMouseEnter(i)}\n//               onMouseUp={handleMouseUp}\n//               openModal={openModal}\n//               isToday={isToday} // highlight current date\n//             />\n//           );\n//         })}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Calendar;","map":{"version":3,"names":[],"sources":["D:/SARITA/ASSIGNMENTS/Month-Calender/month-planner/src/components/Calendar/Calendar.tsx"],"sourcesContent":["// // src/components/Calendar/Calendar.tsx\r\n// import React, { useState, useContext } from \"react\";\r\n// import DayCell from \"./DayCell\";\r\n// import { TaskContext } from \"../../context/TaskContext\";\r\n// import { getMonthMatrix } from \"../../utils/dateUtils\";\r\n// import { Task } from \"../../types/TaskTypes\";\r\n\r\n// const weekDays = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n\r\n// interface CalendarProps {\r\n//   openModal: (start: Date, end: Date, task?: Task) => void;\r\n//   categoryFilter: string[];\r\n//   searchText: string;\r\n// }\r\n\r\n// const Calendar: React.FC<CalendarProps> = ({ openModal, categoryFilter, searchText }) => {\r\n//   const { tasks } = useContext(TaskContext);\r\n\r\n// const today = new Date();\r\n// const year = today.getFullYear();\r\n// const month = today.getMonth();\r\n// const days = getMonthMatrix(year, month);\r\n\r\n//   const [isSelecting, setIsSelecting] = useState(false);\r\n//   const [startIndex, setStartIndex] = useState<number | null>(null);\r\n//   const [hoverIndex, setHoverIndex] = useState<number | null>(null);\r\n\r\n//   const handleMouseDown = (index: number) => {\r\n//     setIsSelecting(true);\r\n//     setStartIndex(index);\r\n//     setHoverIndex(index);\r\n//   };\r\n\r\n//   const handleMouseEnter = (index: number) => {\r\n//     if (!isSelecting) return;\r\n//     setHoverIndex(index);\r\n//   };\r\n\r\n//   const handleMouseUp = () => {\r\n//     if (!isSelecting || startIndex === null || hoverIndex === null) return;\r\n//     setIsSelecting(false);\r\n\r\n//     const start = Math.min(startIndex, hoverIndex);\r\n//     const end = Math.max(startIndex, hoverIndex);\r\n\r\n//     const startDate = days[start]!;\r\n//     const endDate = days[end]!;\r\n\r\n//     if (startDate && endDate) {\r\n//       openModal(startDate, endDate); // open modal for new task\r\n//     }\r\n\r\n//     setStartIndex(null);\r\n//     setHoverIndex(null);\r\n//   };\r\n\r\n//   const isSelected = (index: number) => {\r\n//     if (!isSelecting || startIndex === null || hoverIndex === null) return false;\r\n//     const min = Math.min(startIndex, hoverIndex);\r\n//     const max = Math.max(startIndex, hoverIndex);\r\n//     return index >= min && index <= max;\r\n//   };\r\n\r\n//   return (\r\n//     <div onMouseUp={handleMouseUp}>\r\n//       {/* Week header */}\r\n//       <div style={{ display: \"flex\", marginBottom: 4 }}>\r\n//         {weekDays.map((d) => (\r\n//           <div key={d} style={{ flex: 1, textAlign: \"center\", fontWeight: \"bold\" }}>\r\n//             {d}\r\n//           </div>\r\n//         ))}\r\n//       </div>\r\n\r\n//       {/* Calendar Grid */}\r\n//       <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(7, 1fr)\", gap: 2 }}>\r\n//         {days.map((date, i) => {\r\n//           const dayTasks = date\r\n//             ? tasks.filter(\r\n//                 (t) =>\r\n//                   t.start.toDateString() === date.toDateString() &&\r\n//                   (!categoryFilter.length || categoryFilter.includes(t.category || \"\")) &&\r\n//                   t.title.toLowerCase().includes(searchText.toLowerCase())\r\n//               )\r\n//             : [];\r\n\r\n//           const isToday = date ? date.toDateString() === today.toDateString() : false;\r\n\r\n//           return (\r\n//             <DayCell\r\n//               key={i}\r\n//               date={date}\r\n//               tasks={dayTasks}\r\n//               isSelected={isSelected(i)}\r\n//               onMouseDown={() => handleMouseDown(i)}\r\n//               onMouseEnter={() => handleMouseEnter(i)}\r\n//               onMouseUp={handleMouseUp}\r\n//               openModal={openModal}\r\n//               isToday={isToday} // highlight current date\r\n//             />\r\n//           );\r\n//         })}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Calendar;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}