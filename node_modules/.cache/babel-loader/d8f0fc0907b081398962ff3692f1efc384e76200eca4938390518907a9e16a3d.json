{"ast":null,"code":"// import React, { createContext, useState, useEffect } from \"react\";\n// import { Task } from \"../types/TaskTypes\";\n\n// interface TaskContextProps {\n//   tasks: Task[];\n//   addTask: (task: Task) => void;\n//   updateTask: (task: Task) => void;\n//   moveTaskToDate: (date: Date) => void;\n// }\n\n// export const TaskContext = createContext<TaskContextProps>({\n//   tasks: [],\n//   addTask: () => {},\n//   updateTask: () => {},\n//   moveTaskToDate: () => {},\n// });\n\n// export const TaskProvider = ({ children }: { children: React.ReactNode }) => {\n//   const [tasks, setTasks] = useState<Task[]>([]);\n\n//   // --------------------------\n//   // ✅ Load from localStorage\n//   // --------------------------\n//   useEffect(() => {\n//     const saved = localStorage.getItem(\"tasks\");\n//     if (saved) {\n//       try {\n//         const parsed: Task[] = JSON.parse(saved);\n\n//         // Convert dates back into Date objects\n//         const restored = parsed.map((t) => ({\n//           ...t,\n//           start: new Date(t.start),\n//           end: new Date(t.end),\n//         }));\n\n//         setTasks(restored);\n//       } catch (e) {\n//         console.error(\"❌ FAILED TO LOAD LOCAL STORAGE:\", e);\n//         setTasks([]);\n//       }\n//     }\n//   }, []);\n\n//   // --------------------------\n//   // ✅ Save to localStorage\n//   // --------------------------\n//   useEffect(() => {\n//     if (tasks.length > 0) {\n//       localStorage.setItem(\"tasks\", JSON.stringify(tasks));\n//     }\n//   }, [tasks]);\n\n//   // --------------------------\n//   // ADD TASK\n//   // --------------------------\n//   const addTask = (task: Task) => {\n//     setTasks((prev) => [...prev, task]);\n//   };\n\n//   // --------------------------\n//   // UPDATE TASK\n//   // --------------------------\n//   const updateTask = (task: Task) => {\n//     setTasks((prev) => prev.map((t) => (t.id === task.id ? task : t)));\n//   };\n\n//   // --------------------------\n//   // MOVE TASK BY DRAGGING\n//   // --------------------------\n//   const moveTaskToDate = (newDate: Date) => {\n//     const draggedId = localStorage.getItem(\"drag-task-id\");\n//     if (!draggedId) return;\n\n//     setTasks((prev) =>\n//       prev.map((t) =>\n//         t.id === draggedId\n//           ? {\n//               ...t,\n//               start: newDate,\n//               end: newDate,\n//             }\n//           : t\n//       )\n//     );\n\n//     localStorage.removeItem(\"drag-task-id\");\n//   };\n\n//   return (\n//     <TaskContext.Provider\n//       value={{\n//         tasks,\n//         addTask,\n//         updateTask,\n//         moveTaskToDate,\n//       }}\n//     >\n//       {children}\n//     </TaskContext.Provider>\n//   );\n// };","map":{"version":3,"names":[],"sources":["D:/SARITA/ASSIGNMENTS/Month-Calender/month-planner/src/context/TaskContext.tsx"],"sourcesContent":["// import React, { createContext, useState, useEffect } from \"react\";\r\n// import { Task } from \"../types/TaskTypes\";\r\n\r\n// interface TaskContextProps {\r\n//   tasks: Task[];\r\n//   addTask: (task: Task) => void;\r\n//   updateTask: (task: Task) => void;\r\n//   moveTaskToDate: (date: Date) => void;\r\n// }\r\n\r\n// export const TaskContext = createContext<TaskContextProps>({\r\n//   tasks: [],\r\n//   addTask: () => {},\r\n//   updateTask: () => {},\r\n//   moveTaskToDate: () => {},\r\n// });\r\n\r\n// export const TaskProvider = ({ children }: { children: React.ReactNode }) => {\r\n//   const [tasks, setTasks] = useState<Task[]>([]);\r\n\r\n//   // --------------------------\r\n//   // ✅ Load from localStorage\r\n//   // --------------------------\r\n//   useEffect(() => {\r\n//     const saved = localStorage.getItem(\"tasks\");\r\n//     if (saved) {\r\n//       try {\r\n//         const parsed: Task[] = JSON.parse(saved);\r\n\r\n//         // Convert dates back into Date objects\r\n//         const restored = parsed.map((t) => ({\r\n//           ...t,\r\n//           start: new Date(t.start),\r\n//           end: new Date(t.end),\r\n//         }));\r\n\r\n//         setTasks(restored);\r\n//       } catch (e) {\r\n//         console.error(\"❌ FAILED TO LOAD LOCAL STORAGE:\", e);\r\n//         setTasks([]);\r\n//       }\r\n//     }\r\n//   }, []);\r\n\r\n//   // --------------------------\r\n//   // ✅ Save to localStorage\r\n//   // --------------------------\r\n//   useEffect(() => {\r\n//     if (tasks.length > 0) {\r\n//       localStorage.setItem(\"tasks\", JSON.stringify(tasks));\r\n//     }\r\n//   }, [tasks]);\r\n\r\n//   // --------------------------\r\n//   // ADD TASK\r\n//   // --------------------------\r\n//   const addTask = (task: Task) => {\r\n//     setTasks((prev) => [...prev, task]);\r\n//   };\r\n\r\n//   // --------------------------\r\n//   // UPDATE TASK\r\n//   // --------------------------\r\n//   const updateTask = (task: Task) => {\r\n//     setTasks((prev) => prev.map((t) => (t.id === task.id ? task : t)));\r\n//   };\r\n\r\n//   // --------------------------\r\n//   // MOVE TASK BY DRAGGING\r\n//   // --------------------------\r\n//   const moveTaskToDate = (newDate: Date) => {\r\n//     const draggedId = localStorage.getItem(\"drag-task-id\");\r\n//     if (!draggedId) return;\r\n\r\n//     setTasks((prev) =>\r\n//       prev.map((t) =>\r\n//         t.id === draggedId\r\n//           ? {\r\n//               ...t,\r\n//               start: newDate,\r\n//               end: newDate,\r\n//             }\r\n//           : t\r\n//       )\r\n//     );\r\n\r\n//     localStorage.removeItem(\"drag-task-id\");\r\n//   };\r\n\r\n//   return (\r\n//     <TaskContext.Provider\r\n//       value={{\r\n//         tasks,\r\n//         addTask,\r\n//         updateTask,\r\n//         moveTaskToDate,\r\n//       }}\r\n//     >\r\n//       {children}\r\n//     </TaskContext.Provider>\r\n//   );\r\n// };\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}